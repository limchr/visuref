/* ==========================================================================
   Responsive Design & Media Queries
   ========================================================================== */

/* Tablet and smaller desktop adjustments */
@media (max-width: 1024px) {
  #sidebar { 
    width: 220px; 
  }
  
  .header-logo { 
    height: 70px; 
  }
}

/* Mobile landscape and small tablets */
@media (max-width: 768px) {
  .header-content { 
    flex-direction: column; 
    gap: 10px; 
    padding: 10px var(--gutter);
  }
  
  .nav-links { 
    gap: 10px; 
    flex-wrap: wrap; 
    justify-content: center; 
  }
  
  /* Switch to vertical layout on mobile */
  .main-content {
    flex-direction: column;
    height: auto;
  }
  
  #sidebar {
    width: 100%;
    height: auto;
    max-height: 80vh;
    border-right: none;
    border-top: 1px solid var(--color-border);
    order: 2; /* Modules come after canvas */
  }
  
  #main {
    order: 1; /* Canvas comes first */
    min-height: calc(80vh);
    max-height: calc(100vh);
    padding: 5px;
  }
  
  /* Adjust canvas sizing for mobile */
  canvas {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
  }
  
  /* Adjust module spacing for mobile */
  .module {
    margin-bottom: 8px;
  }
  
  /* Make export button more prominent on mobile */
  .export-section {
    margin-top: 15px;
    padding-top: 15px;
  }
  
  /* Course page mobile adjustments */
  .course-container {
    flex-direction: column;
  }
  
  .course-sidebar {
    width: 100%;
    height: auto;
    max-height: 200px;
    border-right: none;
    border-bottom: 1px solid var(--color-border);
  }
  
  .course-lessons {
    flex-direction: row;
    overflow-x: auto;
    gap: 5px;
  }
  
  .lesson-item {
    min-width: 120px;
    flex-shrink: 0;
  }
  
  .lesson-title {
    font-size: 12px;
  }
  
  .course-header {
    flex-direction: column;
    gap: 15px;
    padding: 15px 20px;
  }
  
  .course-header h1 {
    font-size: 1.5em;
    text-align: center;
  }
  
  .course-text {
    padding: 20px;
  }
  
  .course-text h1 {
    font-size: 1.8em;
  }
  
  .course-text h2 {
    font-size: 1.4em;
  }
  
  .course-text p {
    font-size: 1em;
  }
}

/* Small mobile devices */
@media (max-width: 480px) {
  .header-logo { 
    height: 60px; 
  }
  
  .upload-area,
  .reference-gallery {
    height: 150px;
    padding: 20px;
  }
  
  .upload-text {
    font-size: 1.2em;
  }
  
  .upload-subtext {
    font-size: 0.9em;
  }
  
  /* Adjust module parameters for small screens */
  .param-label {
    flex-direction: column;
    align-items: flex-start !important;
    gap: 5px;
  }
  
  .param-label input[type="number"] {
    width: 100% !important;
    margin-left: 0 !important;
    margin-top: 5px;
  }
  
  .param-label input[type="range"] {
    margin-left: 0 !important;
    margin-top: 5px;
  }
  
  .param-label select {
    width: 100% !important;
    margin-left: 0 !important;
    margin-top: 5px;
  }
  
  /* Modal adjustments for small screens */
  .modal-content {
    width: 95%;
    margin: 2% auto;
  }
  
  .modal-body {
    padding: 20px;
  }
  
  .gallery-grid {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 15px;
  }
  
  .gallery-item img {
    height: 100px;
  }
  
  .gallery-group img {
    height: 120px;
  }
}